<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
  <meta name="google-site-verification" content="MTSHnqO7ph6E8W9gDl-H1tXE2ZrelQHw5VVqxp6EbLs" />
  <meta name="yandex-verification" content="449202b691de358e" />
  
<link rel="shortcut icon" href="https://zxcnxc.github.io/images/favicon-32x32.png" />
<title>eNSP VS WSL 2 | /zxc/</title>
<meta name="title" content="eNSP VS WSL 2" />
<meta name="description" content="When you want to try Huawei while doing something in WSL" />
<meta name="keywords" content="eNSP,WSL,Huawei,Troubleshoot," />


<meta property="og:title" content="eNSP VS WSL 2" />
<meta property="og:description" content="When you want to try Huawei while doing something in WSL" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zxcnxc.github.io/ensp-vs-wsl-2/" /><meta property="og:image" content="https://zxcnxc.github.io/images/home.png"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-12-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-13T00:00:00+00:00" /><meta property="og:site_name" content="/awan/" />




<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://zxcnxc.github.io/images/home.png"/>

<meta name="twitter:title" content="eNSP VS WSL 2"/>
<meta name="twitter:description" content="When you want to try Huawei while doing something in WSL"/>



<meta itemprop="name" content="eNSP VS WSL 2">
<meta itemprop="description" content="When you want to try Huawei while doing something in WSL"><meta itemprop="datePublished" content="2021-12-13T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-12-13T00:00:00+00:00" />
<meta itemprop="wordCount" content="301"><meta itemprop="image" content="https://zxcnxc.github.io/images/home.png"/>
<meta itemprop="keywords" content="eNSP,WSL,Huawei,Troubleshoot," />
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  body {
    font-family: Verdana, sans-serif;
    margin: auto;
    padding: 22px;
    max-width: 720px;
    text-align: left;
    background-color: #333;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.7;
    color: #ddd;
    font-size: 16px;
    font-size: 120%;
  }

  h1 {
    color:#eee;
  }
  h2,
  h3,
  h4,
  h5,
  h6,
  strong,
  b {
    color: #eee;
  }

  a {
    color: #8cc2dd;
     
  }

  .title {
    text-decoration: none;
    border: 0;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    text-decoration: none;
    margin-right: 10px;
  }

  figcaption {
    font-size: 16px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 16px;
  }

  content {
    line-height: 1.6;
  }

  table {
    text-align: left;
    table-layout: fixed;
    width: 100%;
    border-collapse: collapse;
     
  }

  img {
    max-width: 100%;
    height: auto;
  }

  code {
    padding: 2px 5px;
    background-color: #777;
  }

  pre code {
    color: #ddd;
    display: block;
    padding: 20px;
    white-space: wrap;
    overflow: auto;
    font-size: 14px;
  }

  div.highlight pre {
    background-color: initial;
    color: initial;
  }

  div.highlight code {
    background-color: #272822;
    color: rgb(255, 255, 255);
  }

  blockquote {
    border-left: 1px solid #999;
    color: #ccc;
    padding-left: 20px;
    font-style: italic;
  }

  footer {
    padding-left: auto;
    padding: 20px;
    text-align: center;
  }

  .helptext {
    color: #777;
    font-size: small;
  }

  .errorlist {
    color: #eba613;
    font-size: small;
  }

   
  ul.blog-posts {
    list-style-type: none;
  }

   ul.blog-posts li {
    text-align: start;
    list-style-type: none;
  } 

  ul.blog-posts li span {
    display:flex;
    flex-flow: row wrap;
    flex: 1 100%;
  }

  ul.blog-posts li a:visited {
    color: #8b6fcb;
  }

  .highlight-wrapper {
  display: block;
}

 
.highlight-wrapper .lntd pre {
    padding: 0;
}

.chroma .lntd pre {
    border: 0px solid #ccc;
}

.chroma .lntd:first-child {
  padding: 7px 7px 7px 10px;
  margin: 0;
}

.chroma .lntd:last-child {
  padding: 7px 10px 7px 7px;
  margin: 0;
}
 

.highlight {
  position: relative;
  z-index: 0;
  padding: 0;
  border-radius: 4px;
  margin:-15px -1px 10px -1px;

}

.highlight > .chroma {
  position: static;
  z-index: 1;
  border-top-left-radius: 0px;
  border-top-right-radius: 0px;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
  padding: 10px;
}

.copy-code-button {
  position: absolute;
  z-index: 2;
  right: 0;
  top: -29px;
  font-size: 13px;
  font-weight: 700;
  line-height: 14px;
  letter-spacing: 0.5px;
  width: 65px;
  color: #ffffff;
  background-color: #000000;
  border: 1.25px solid #232326;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 0px;
  border-bottom-left-radius: 0px;
  white-space: nowrap;
  padding: 3px 5px 5px 5px;
  margin: 38px 10px 0 1px;
  cursor: pointer;
  opacity: 0.6;
}

.copy-code-button:hover,
.copy-code-button:focus,
.copy-code-button:active,
.copy-code-button:active:hover {
  color: #222225;
  background-color: #b3b3b3;
  opacity: 0.8;
}

.copyable-text-area {
  position: absolute;
  height: 0;
  z-index: -1;
  opacity: .01;
}


  @media (prefers-color-scheme: dark) {
    body {
      background-color: #333;
      color: #ddd;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    strong,
    b {
      color: #eee;
    }

    a {
      color: #8cc2dd;
    }

    code {
      background-color: #777;
    }

    pre code {
      color: #ddd;
    }

    blockquote {
      color: #ccc;
    }

    textarea,
    input {
      background-color: #252525;
      color: #ddd;
    }

    .helptext {
      color: #aaa;
    }

    time {
      text-align: justify;
    }
  }

</style>
<link rel="canonical" href="https://zxcnxc.github.io/ensp-vs-wsl-2/" />

  
  
</head>

<body>
  <header><a href="/" class="title">
  <h2 style="text-align:center;">/zxc/</h2>
</a>
<nav style="text-align:center;"><a href="/">Home</a>


<a href="/blog">Blog</a>


<a href="/about">About</a>
</nav>
</header>
  <main>

<h1>eNSP VS WSL 2</h1>
<p>
    <time datetime='2021-12-13' pubdate>
      13 Dec, 2021 
    </time>    
</p>Estimated Reading time: 2 minutes
<content>
  <hr />
<div>
    <h2>Table Of Contents</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#tldr">TLDR</a></li>
    <li><a href="#issues">Issues</a></li>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#troubleshoot">Troubleshoot</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav>
</div>
<hr />
<h2 id="tldr">TLDR</h2>
<p>Conflicts between Hypervisor.</p>
<h2 id="issues">Issues</h2>
<p>To learn more about Huawei devices, I decided to use the Huawei Enterprise Network Simulator Platform <a href="https://support.huawei.com/enterprise/en/data-communication/ensp-pid-9017384?category=installation-upgrade">eNSP</a> to simulate an enterprise network. <br>
So I followed the tutorial from an internet blog, but when I tried to run the program, I received the error message &ldquo;Failed to start device AR1 error code 40.&rdquo; in eNSP.
<br></p>



  <figure>
    <a href="/ensp-vs-wsl-2/huawei.png">
      <img
        srcset="
          /ensp-vs-wsl-2/huawei_hu12665b6b6eeabf1c49800ebcdaf8a1e7_142995_320x0_resize_box_3.png 320w,
          /ensp-vs-wsl-2/huawei_hu12665b6b6eeabf1c49800ebcdaf8a1e7_142995_600x0_resize_box_3.png 600w,
          /ensp-vs-wsl-2/huawei_hu12665b6b6eeabf1c49800ebcdaf8a1e7_142995_1200x0_resize_box_3.png 2x"
        src="/ensp-vs-wsl-2/huawei_hu12665b6b6eeabf1c49800ebcdaf8a1e7_142995_600x0_resize_box_3.png"   alt="Error 40" loading="lazy"  />
    </a>
    <figcaption><p style="text-align: center;"> Failed to start device AR1</p></figcaption>
  </figure>

<p>Then I looked for the error code message and discovered that <a href="https://superuser.com/questions/1208850/why-cant-virtualbox-or-vmware-run-with-hyper-v-enabled-on-windows-10">WSL</a> is incompatible with VirtualBox because WSL uses Virtual Platform and eNSP requires VirtualBox to run the simulation. <br></p>
<p>Why not use the most recent version of VirtualBox that supports Hyper-V?</p>
<p>Unfortunately, there has been no update from Huawei for eNSP until now.<br>
So, if we try to install the most recent VirtualBox and then run eNSP, we will get the message &ldquo;VirtualBox version is not supported.&rdquo;</p>



  <figure>
    <a href="/ensp-vs-wsl-2/errorhuawei.png">
      <img
        srcset="
          /ensp-vs-wsl-2/errorhuawei_huda36dbdacb04b0256a8806329a855198_19674_320x0_resize_box_3.png 320w,
          /ensp-vs-wsl-2/errorhuawei_huda36dbdacb04b0256a8806329a855198_19674_600x0_resize_box_3.png 600w,
          /ensp-vs-wsl-2/errorhuawei_huda36dbdacb04b0256a8806329a855198_19674_1200x0_resize_box_3.png 2x"
        src="/ensp-vs-wsl-2/errorhuawei_huda36dbdacb04b0256a8806329a855198_19674_600x0_resize_box_3.png"   alt="Error Not Support" loading="lazy"  />
    </a>
    <figcaption><p style="text-align: center;">Virtualbox version not supported</p></figcaption>
  </figure>

<h2 id="setup">Setup</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="line"><span class="cl">OS Version : Windows 10 Pro 64bit Build 19044
</span></span><span class="line"><span class="cl">Virtuabox Version : 5.2.44 r139111 (Qt5.6.2) 
</span></span><span class="line"><span class="cl">WSL Version : 2
</span></span></code></pre></div><h2 id="troubleshoot">Troubleshoot</h2>
<p>In my case, all I need to do is turn off Virtual Machine Platform.</p>
<p>As a result, the short-term solution is to disable Virtual Machine Platform / Hyper-V using one of two methods :</p>
<ol>
<li>
<p>Using Powershell <br>
To disable Hyper-V by using Windows PowerShell, follow these steps:</p>
<ul>
<li>Open an elevated PowerShell window.</li>
<li>Run the following command:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">Disable-WindowsOptionalFeature</span> <span class="n">-Online</span> <span class="n">-FeatureName</span> <span class="nb">Microsoft-Hyper</span><span class="n">-V-Hypervisor</span>
</span></span></code></pre></div><ul>
<li>Reboot</li>
</ul>
</li>
<li>
<p>Using Windows Features
To disable Virtual Machine Platform in Control Panel, follow these steps:</p>
<ul>
<li>In Control Panel, select Programs and Features.</li>
<li>Select Turn Windows features on or off.</li>
<li>Uncheck the Virtual Machine Platform.</li>
</ul>

    
    
      <figure>
        <a href="/ensp-vs-wsl-2/hyper.PNG">
          <img
            srcset="
              /ensp-vs-wsl-2/hyper_huc20008464002f0a929aac37f82cce08e_33299_320x0_resize_box_3.PNG 320w,
              /ensp-vs-wsl-2/hyper_huc20008464002f0a929aac37f82cce08e_33299_600x0_resize_box_3.PNG 600w,
              /ensp-vs-wsl-2/hyper_huc20008464002f0a929aac37f82cce08e_33299_1200x0_resize_box_3.PNG 2x"
            src="/ensp-vs-wsl-2/hyper_huc20008464002f0a929aac37f82cce08e_33299_600x0_resize_box_3.PNG"   alt="Hyper-V" loading="lazy"  />
        </a>
        <figcaption><p style="text-align: center;">Uncheck Virtual Machine</p></figcaption>
      </figure>

<ul>
<li>Reboot</li>
</ul>
</li>
</ol>
<h2 id="summary">Summary</h2>
<p>Hopefully, Huawei will release eNSP updates to make it easier for WSL users, including students who want to learn Huawei devices and take the HCIA exam in the future.</p>

</content>
<p style="text-align: center;">
  
</p>

  </main>
  <footer>Made with a "small" customized and some love from <a href="https://github.com/janraasch/hugo-bearblog/"> Hugo ʕ•ᴥ•ʔ Bear</a>
<script src="/js/copy-code-button.js"></script>
</footer>

    
</body>

</html>
